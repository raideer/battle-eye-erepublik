// ==UserScript==
// @name        Battle Eye Live
// @namespace   battle-eye-live
// @author      Industrials
// @homepage    https://docs.google.com/spreadsheets/d/1Ebqp5Hb8KmGvX6X0FXmALO30Fv-IyfJHUGPkjKey8tg
// @description LIVE battlefield statistics
// @include     http*://www.erepublik.com/*/military/battlefield-new/*
// @version     1.4.2
// @require     https://fb.me/react-15.2.1.min.js
// @require     https://fb.me/react-dom-15.2.1.min.js
// @require     https://cdnjs.cloudflare.com/ajax/libs/async/2.0.1/async.min.js
// @require     https://dl.dropboxusercontent.com/u/86379644/notify.js
// @run-at      document-idle
// @grant       none
// @noframes
// ==/UserScript==

!function e(t,n,a){function r(o,l){if(!n[o]){if(!t[o]){var s="function"==typeof require&&require;if(!l&&s)return s(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){var n=t[o][1][e];return r(n?n:e)},u,u.exports,e,t,n,a)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<a.length;o++)r(a[o]);return r}({1:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=e("./classes/Utils"),l=(a(o),e("./classes/Stats")),s=a(l),c=e("./classes/Layout"),u=a(c),d=e("./classes/Storage"),f=a(d),h=e("./classes/Stylesheet"),p=(a(h),e("./classes/EventHandler")),b=a(p),g=e("./classes/modules/ModuleLoader"),m=a(g),v=e("./classes/modules/Other"),y=a(v),E=e("./classes/modules/AutoShooter"),R=a(E),w=function(){function e(){r(this,e);var t=this;if(window.BattleEye=this,window.storage=this.storage=new f["default"],window.viewData={connected:!0},this.storage===!1)return console.error("LocalStorage is not available! Battle Eye initialisation canceled");this.defineDefaultSettings();var n=new m["default"](this.storage);n.load(new R["default"]),n.load(new y["default"]),this.storage.loadSettings(),window.settings=this.storage.getAll(),this.events=new b["default"],this.teamA=new s["default"](SERVER_DATA.leftBattleId),this.teamAName=SERVER_DATA.countries[SERVER_DATA.leftBattleId],this.teamB=new s["default"](SERVER_DATA.rightBattleId),this.teamBName=SERVER_DATA.countries[SERVER_DATA.rightBattleId],this.teamA.defender=SERVER_DATA.defenderId==SERVER_DATA.leftBattleId,this.teamB.defender=SERVER_DATA.defenderId!=SERVER_DATA.leftBattleId,this.revolutionCountry=null,SERVER_DATA.isCivilWar&&(SERVER_DATA.invaderId==SERVER_DATA.leftBattleId?(this.teamA.revolution=!0,this.teamAName=this.teamBName+" Revolution",this.revolutionCountry=this.teamBName):(this.teamB.revolution=!0,this.teamBName=this.teamAName+" Revolution",this.revolutionCountry=this.teamBName));var a=$j("#pvp_header .domination span.resistance_influence_value.attacker em"),i=$j("#pvp_header .domination span.resistance_influence_value.defender em");window.leftDetBonus=1,window.rightDetBonus=1,a.length>0?this.teamA.defender?window.rightDetBonus=parseFloat(a.html()):window.leftDetBonus=parseFloat(a.html()):i.length>0&&(this.teamA.defender?window.leftDetBonus=parseFloat(i.html()):window.rightDetBonus=parseFloat(i.html())),t.forceDisconnect=pomelo.disconnect,pomelo.disconnect=function(){},this.events.on("layout.ready",function(e){e.update(t.getTeamStats()),t.checkForUpdates(),t.getNbpStats(SERVER_DATA.battleId).then(function(e){e.zone_finished?$j("#bel-loading").hide():t.loadBattleStats()}),n.run()}),this.layout=new u["default"]({teamAName:this.teamAName,teamBName:this.teamBName,version:GM_info.script.version,revolutionCountry:this.revolutionCountry},this),this.defineListeners(),this.runTicker(),this.handleEvents(),console.log("Constructor end")}return i(e,[{key:"defineListeners",value:function(){var e=this;$j(".bel-settings-field").on("change",function(t){var n,a=t.target;n="checkbox"==a.type?a.checked:a.value,e.storage.set(a.name,n),window.settings[a.name].value=n;var r=$j(this).attr("id");e.events.emit("log","Updated setting "+a.name+" to "+n),$j('label[for="'+r+'"]').notify("Saved",{position:"right middle",className:"success"})})}},{key:"sortByValue",value:function(e){var t={},n=Object.keys(e).sort(function(t,n){return e[t]-e[n]}).reverse();for(var a in n)t[n[a]]=e[n[a]];return t}},{key:"defineDefaultSettings",value:function(){function e(e){for(var n in e)t.storage.define.apply(t.storage,e[n])}var t=this,n=[["showOtherDivs",!1,"Structure","Show other divisions","You can select what divisions you want to see with the settings below."],["showDiv1",!0,"Structure","Show DIV 1"],["showDiv2",!0,"Structure","Show DIV 2"],["showDiv3",!0,"Structure","Show DIV 3"],["showDiv4",!0,"Structure","Show DIV 4"],["showDomination",!0,"Structure","Show domination","Similar to damage, but takes domination bonus in count"],["showAverageDamage",!1,"Structure","Show average damage dealt"],["showMiniMonitor",!0,"Structure","Display a small division monitor on the battlefield"],["showKills",!1,"Structure","Show kills done by each division"],["showDamagePerc",!0,"Structure","Show Damage percentages"],["moveToTop",!1,"Structure","Display BattleEye above the battlefield","*Requires a page refresh"],["reduceLoad",!1,"Performance","Render every second","Stats will be refreshed every second instead of after every kill. This can improve performance"],["gatherBattleStats",!0,"Performance","Gather battle stats","Displays total damage and kills since the beginning of the round. Disabling this will reduce the load time."],["highlightDivision",!0,"Visual","Highlight current division"],["highlightValue",!0,"Visual","Highlight winning side"],["showDpsBar",!0,"Bars","Show DPS bar"],["showDamageBar",!1,"Bars","Show Damage bar"],["showDominationBar",!0,"Bars","Show Domination bar"],["largerBars",!1,"Bars","Larger bars"],["enableLogging",!1,"Other","Enable logging to console"]];e(n)}},{key:"getNbpStats",value:function(e,t){return new Promise(function(n,a){$j.get("https://www.erepublik.com/en/military/nbp-stats/"+e,function(e){e=JSON.parse(e),n(e),"function"==typeof t&&t(e)}).error(function(e){a(e)})})}},{key:"processBattleStats",value:function(e,t,n){return new Promise(function(a,r){var i,o,l,s,c,u=[1,2,3,4,11];for(var d in u){var f=u[d],h=0,p=0,b=0,g=0;for(l in e.leftDamage["div"+f])i=e.leftDamage["div"+f][l],o=Number.isInteger(i.value)?i.value:Number(i.value.replace(/[,\.]/g,"")),h+=o,s={damage:o,permalink:i.country_permalink},t.countries.handleBare(s),t.divisions.get("div"+f).countries.handleBare(s);for(l in e.rightDamage["div"+f])i=e.rightDamage["div"+f][l],o=Number.isInteger(i.value)?i.value:Number(i.value.replace(/[,\.]/g,"")),p+=o,s={damage:o,permalink:i.country_permalink},n.countries.handleBare(s),n.divisions.get("div"+f).countries.handleBare(s);for(l in e.leftKills["div"+f])i=e.leftKills["div"+f][l],c=Number.isInteger(i.value)?i.value:Number(i.value.replace(/[,\.]/g,"")),b+=c,t.countries.handleKills(i.country_permalink,c),t.divisions.get("div"+f).countries.handleKills(i.country_permalink,c);for(l in e.rightKills["div"+f])i=e.rightKills["div"+f][l],c=Number.isInteger(i.value)?i.value:Number(i.value.replace(/[,\.]/g,"")),g+=c,n.countries.handleKills(i.country_permalink,c),n.divisions.get("div"+f).countries.handleKills(i.country_permalink,c);t.divisions.get("div"+f).damage+=h,n.divisions.get("div"+f).damage+=p,t.damage+=h,n.damage+=p,t.divisions.get("div"+f).hits+=b,n.divisions.get("div"+f).hits+=g,t.hits+=b,n.hits+=g}a()})}},{key:"loadBattleStats",value:function(){var e=this;return window.settings.gatherBattleStats.value?void e.getBattleStats().then(function(t){return e.events.emit("log","Battle stats fetched. Processing..."),e.processBattleStats(t,e.teamA,e.teamB)}).then(function(){e.events.emit("log","Battle stats loaded."),$j("#bel-loading").hide(),e.layout.update(e.getTeamStats())}):(e.events.emit("log","Battle stat fetching canceled since the battle is over."),$j("#bel-loading").hide())}},{key:"resetSettings",value:function(){this.storage.loadDefaults(),window.settings=this.storage.getAll()}},{key:"checkForUpdates",value:function(){var e=this;return new Promise(function(t,n){$j.get("https://dl.dropboxusercontent.com/u/86379644/data.json",function(n){n=JSON.parse(n),e.contributors=n.contributors,e.displayContributors();var a=parseInt(n.version.replace(/\D/g,"")),r=parseInt(GM_info.script.version.replace(/\D/g,""));r!=a&&(document.querySelector("#bel-version .bel-alert").classList.add("bel-alert-danger"),document.querySelector("#bel-version").innerHTML+='<a class="bel-btn" href="'+n.updateUrl+'">Update</a>'),console.log("[BATTLEEYE] Data JSON received and processed"),e.events.emit("log","Data.json synced"),t(n)}).error(function(e){console.error("[BATTLEEYE] Failed to download data.json"),n(e)})})}},{key:"generateSummary",value:function(){function e(r){var i=[1,2,3,4];a%4===0&&(i=[11]),t.getBattleStats(a,i).then(function(i){t.events.emit("summary.update",a),n[a]=i,a++,a<=SERVER_DATA.zoneId?e(r):r()})}var t=this,n=[];this.step=1,t.events.emit("log","Generating summary...");var a=1;e(function(){var e=new s["default"](SERVER_DATA.leftBattleId),a=new s["default"](SERVER_DATA.rightBattleId),r=[];e.defender=SERVER_DATA.defenderId==SERVER_DATA.leftBattleId,a.defender=SERVER_DATA.defenderId!=SERVER_DATA.leftBattleId,async.eachOf(n,function(n,i,o){n||o(),t.processBattleStats(n,e,a).then(function(){r[i]={left:new s["default"](SERVER_DATA.leftBattleId),right:new s["default"](SERVER_DATA.rightBattleId)},r[i].left.defender=SERVER_DATA.defenderId==SERVER_DATA.leftBattleId,r[i].right.defender=SERVER_DATA.defenderId!=SERVER_DATA.leftBattleId,t.processBattleStats(n,r[i].left,r[i].right).then(function(){t.events.emit("log","Processed round "+(i+1)),o()})})},function(){for(var i in r)r[i].left=r[i].left.toObject(),r[i].right=r[i].right.toObject();t.events.emit("summary.finished",[e.toObject(),a.toObject(),r,n]),t.events.emit("log","Summary data fetching done")})})}},{key:"displayContributors",value:function(){$j(".bel-contributor").each(function(){$j(this).removeClass("bel-contributor").removeAttr("style").removeAttr("original-title")});for(var e in this.contributors){var t=this.contributors[e];for(var n in t){var a=t[n];erepublik.citizen.citizenId==a?$j("#battleConsole .left_player .player_name").css({textShadow:"0 0 10px "+e,color:""+e}).attr("original-title","BattleEye contributor").tipsy():$j('li[data-citizen-id="'+a+'"] .player_name a').length>0&&$j('li[data-citizen-id="'+a+'"] .player_name a').css({textShadow:" 0 0 10px "+e,color:e}).attr("original-title","BattleEye contributor").addClass("bel-contributor").tipsy()}}}},{key:"getTeamStats",value:function(){return{left:this.teamA.toObject(),right:this.teamB.toObject()}}},{key:"getBattleStats",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SERVER_DATA.zoneId,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this;return new Promise(function(a,r){var i=SERVER_DATA.leftBattleId,o=SERVER_DATA.rightBattleId,l={div1:[],div2:[],div3:[],div4:[],div11:[]},s={div1:[],div2:[],div3:[],div4:[],div11:[]},c={div1:[],div2:[],div3:[],div4:[],div11:[]},u={div1:[],div2:[],div3:[],div4:[],div11:[]},d=function(t,n,a,r){return void 0===r&&(r="damage"),new Promise(function(i,o){$j.post("https://www.erepublik.com/en/military/battle-console",{_token:SERVER_DATA.csrfToken,action:"battleStatistics",battleId:SERVER_DATA.battleId,division:t,leftPage:n,rightPage:a,round:e,type:r,zoneId:parseInt(e,10)},function(e){i(e)})})},f=function(e,t){var a,r=1,c=1;async.doWhilst(function(t){d(e,r,r,"damage").then(function(u){for(a in u[i].fighterData)l["div"+e].push(u[i].fighterData[a]);for(a in u[o].fighterData)s["div"+e].push(u[o].fighterData[a]);c=Math.max(u[i].pages,u[o].pages),window.settings.enableLogging.value&&(console.log("[BATTLEEYE] Finished damage page "+r+"/"+c+" div"+e),n.events.emit("log","Fetched damage "+r+"/"+c+" for div"+e)),r++,t()})},function(){return r<=c},function(){t()})},h=function(e,t){var a=1,r=1;async.doWhilst(function(t){d(e,a,a,"kills").then(function(l){for(var s in l[i].fighterData)c["div"+e].push(l[i].fighterData[s]);for(var d in l[o].fighterData)u["div"+e].push(l[o].fighterData[d]);r=Math.max(l[i].pages,l[o].pages),window.settings.enableLogging.value&&(console.log("[BATTLEEYE] Finished kill page "+a+"/"+r+" div"+e),n.events.emit("log","Fetched kills "+a+"/"+r+" for div"+e)),a++,t()})},function(){return a<=r},function(){t()})};null===t&&(t=11==SERVER_DATA.division?[11]:[1,2,3,4]),async.each(t,f.bind(n),function(){async.each(t,h.bind(n),function(){a({leftDamage:l,rightDamage:s,leftKills:c,rightKills:u})})})})}},{key:"runTicker",value:function(){var e=0,t=this,n=function(){e++,t.events.emit("tick",{second:e,time:(new Date).getTime()})};this.interval=setInterval(n,1e3)}},{key:"handleEvents",value:function(){var e=this;this.events.on("tick",function(t){t.second%3===0&&e.updateContributors&&(e.updateContributors=!1,e.displayContributors()),e.teamA.updateDps(t),e.teamB.updateDps(t),e.layout.update(e.getTeamStats())})}},{key:"overridePomelo",value:function(){var e=this,t=function(t){e.updateContributors=!0,e.handle(t)};pomelo.on("onMessage",t),pomelo.on("close",function(t){console.log("[BATTLEEYE] Socket closed ["+t.reason+"]"),e.events.emit("log","Connection to the battlefield was closed."),window.viewData.connected=!1,clearTimeout(e.interval),e.layout.update(e.getTeamStats())})}},{key:"handle",value:function(e){var t=this;t.teamA.handle(e),t.teamB.handle(e),settings.reduceLoad.value||t.layout.update(t.getTeamStats()),window.viewData.connected=!0}}]),e}();t.exports=new w},{"./classes/EventHandler":6,"./classes/Layout":8,"./classes/Stats":9,"./classes/Storage":10,"./classes/Stylesheet":11,"./classes/Utils":12,"./classes/modules/AutoShooter":30,"./classes/modules/ModuleLoader":32,"./classes/modules/Other":33}],2:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(){a(this,e),this.countries={}}return r(e,[{key:"handle",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=e.msg.permalink;this.countries[a]||(this.countries[a]={damage:0,kills:0}),n&&(this.countries[a].damage+=e.msg.damage),t&&(this.countries[a].kills+=1)}},{key:"handleBare",value:function(e){var t={msg:{permalink:"",damage:0}};t.msg.damage=e.damage,t.msg.permalink=e.permalink,this.handle(t,!1)}},{key:"handleKills",value:function(e,t){this.countries[e]||(this.countries[e]={damage:0,kills:0}),this.countries[e].kills+=t}},{key:"getAll",value:function(){var e=this,t={},n=Object.keys(e.countries).sort(function(t,n){return e.countries[n].damage-e.countries[t].damage});for(var a in n){var r=n[a];t[r]=e.countries[r]}return t}}]),e}();n["default"]=i},{}],3:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=e("./DpsHandler"),c=a(s),u=e("./CountryStats"),d=a(u),f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,10));return n.division=e,n.hits=0,n.damage=0,n.countries=new d["default"],n}return o(t,e),l(t,[{key:"handle",value:function(e){e.division==this.division&&(this.addHit(e.msg.damage),this.hits++,this.damage+=e.msg.damage,this.countries.handle(e))}},{key:"toObject",value:function(){return{damage:this.damage,id:this.id,dps:this.dps,hits:this.hits,avgHit:0|Math.round(this.damage/this.hits),countries:this.countries.getAll()}}}]),t}(c["default"]);n["default"]=f},{"./CountryStats":2,"./DpsHandler":5}],4:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=e("./DivisionStats"),l=a(o),s=function(){function e(){r(this,e);this.divisions={}}return i(e,[{key:"create",value:function(e,t){return this.divisions[e]=new l["default"](t),this.divisions[e]}},{key:"get",value:function(e){return this.divisions[e]}},{key:"handle",value:function(e){for(var t in this.divisions)this.divisions[t].handle(e)}},{key:"updateDps",value:function(e){for(var t in this.divisions)this.divisions[t].updateDps(e)}},{key:"toObject",value:function(){var e={};for(var t in this.divisions)e[t]=this.divisions[t].toObject();return e}}]),e}();n["default"]=s},{"./DivisionStats":3}],5:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=e("./HitHistory"),l=a(o),s=function(){function e(t){r(this,e),this.rememberDpsFor=t,this.hitHistory=new l["default"](1e3*t),this.hitStreakSeconds=0,this.lastHit=0,this.dps=0}return i(e,[{key:"addHit",value:function(e){this.lastHit=(new Date).getTime(),this.hitHistory.add(e)}},{key:"updateDps",value:function(e){var t=this.hitHistory.getTotal();this.hitStreakSeconds<this.rememberDpsFor&&this.hitStreakSeconds++,this.dps=Math.round(t/this.hitStreakSeconds),e.time-this.lastHit>=1e4&&(this.hitHistory.clear(),this.hitStreakSeconds=0)}}]),e}();n["default"]=s},{"./HitHistory":7}],6:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(){a(this,e),this.events={}}return r(e,[{key:"emit",value:function(e,t){this.events[e]&&this.events[e].forEach(function(e){return e(t)})}},{key:"on",value:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)}},{key:"off",value:function(e,t){if(this.events[e])for(var n in this.events[e]){var a=this.events[e][n];a==t&&this.events[e].splice(n,1)}}}]),e}();n["default"]=i},{}],7:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e4;a(this,e),this.rememberFor=t,this.history={}}return r(e,[{key:"add",value:function(e){var t=(new Date).getTime();this.history[t]=e,this.trimOld(t)}},{key:"trimOld",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getTime();for(var t in this.history)e-t-this.rememberFor>0&&delete this.history[t]}},{key:"clear",value:function(){this.history={}}},{key:"getTotal",value:function(){this.trimOld();var e=0;for(var t in this.history)e+=this.history[t];return e}}]),e}();n["default"]=i},{}],8:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=e("./Stylesheet"),l=a(o),s=e("./layout/Template"),c=a(s),u=e("./layout/MiniMonitor"),d=a(u),f=function(){function e(t){r(this,e);var n=this;n.headerData=t,n.canRender=!0;var a=document.createElement("div");a.setAttribute("id","battle_eye_live"),window.settings.moveToTop.value?$j("#content").prepend(a):$j("#content").append(a),$j("#battleConsole").append('<div id="bel-minimonitor"></div>'),l["default"].load(),window.BattleEye.events.emit("layout.ready",this)}return i(e,[{key:"update",value:function(e){this.canRender&&(ReactDOM.render(React.createElement(c["default"],{settings:window.settings,viewData:window.viewData,feedData:e,headerData:this.headerData}),document.getElementById("battle_eye_live")),ReactDOM.render(React.createElement(d["default"],{settings:window.settings,feedData:e}),document.getElementById("bel-minimonitor")))}}]),e}();n["default"]=f},{"./Stylesheet":11,"./layout/MiniMonitor":16,"./layout/Template":17}],9:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=function g(e,t,n){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:g(r,t,n)}if("value"in a)return a.value;var i=a.get;if(void 0!==i)return i.call(n)},c=e("./DpsHandler"),u=a(c),d=e("./CountryStats"),f=a(d),h=e("./Divisions"),p=a(h),b=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,10));return n.countries=new f["default"],n.id=e,n.damage=0,n.hits=0,n.constructDivisions(),n.revolution=!1,n.defender=!1,n}return o(t,e),l(t,[{key:"constructDivisions",value:function(){this.divisions=new p["default"],this.divisions.create("div1",1),this.divisions.create("div2",2),this.divisions.create("div3",3),this.divisions.create("div4",4),this.divisions.create("div11",11)}},{key:"isSide",value:function(e){return this.id==e}},{key:"updateDps",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDps",this).call(this,e),this.divisions.updateDps(e)}},{key:"handle",value:function(e){this.isSide(e.side)&&(this.divisions.handle(e),this.addHit(e.msg.damage),this.hits++,this.damage+=e.msg.damage,this.countries.handle(e))}},{key:"toObject",value:function(){return{damage:this.damage,id:this.id,dps:this.dps,hits:this.hits,avgHit:Math.round(this.damage/this.hits),divisions:this.divisions.toObject(),countries:this.countries.getAll(),revolution:this.revolution}}}]),t}(u["default"]);n["default"]=b},{"./CountryStats":2,"./Divisions":4,"./DpsHandler":5}],10:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(){a(this,e);var t=this;return!!t.checkIfStorageAvailable()&&(t.prepend="battle_eye_",t.fields={},void(t.defaults={}))}return r(e,[{key:"set",value:function(e,t){var n=this;localStorage.setItem(""+n.prepend+e,t),console.log("[BATTLEEYE] "+n.prepend+e+" = "+t)}},{key:"get",value:function(e){var t=this,n=localStorage.getItem(""+t.prepend+e);switch(n){case"true":n=!0;break;case"false":n=!1}return n}},{key:"has",value:function(e){var t=this;return!!localStorage.getItem(""+t.prepend+e)}},{key:"define",value:function(e,t,n,a,r){var i=this;i.defaults[e]={id:e,name:a,desc:r,group:n,value:t}}},{key:"loadSettings",value:function(){var e=this;for(var t in e.defaults){var n=e.defaults[t];void 0===e.fields[t]&&(e.fields[t]={id:n.id,name:n.name,desc:n.desc,group:n.group}),e.has(t)||e.set(t,n.value)}}},{key:"loadDefaults",value:function(){var e=this;for(var t in e.defaults)e.set(t,e.defaults[t].value)}},{key:"getAll",value:function(){var e=this,t={};for(var n in e.fields){var a=e.fields[n];t[n]={field:a,value:e.get(a.id)}}return t}},{key:"checkIfStorageAvailable",value:function(){return"undefined"!=typeof e}}]),e}();n["default"]=i},{}],11:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(){a(this,e),this.sheet="",this.sheet+="\n            @keyframes bel-pulse-w {\n                0% {\n                    background-color: #27ae60;\n                }\n\n                10% {\n                    background-color: #2ecc71;\n                }\n\n                100% {\n                    background-color: #27ae60;\n                }\n            }\n\n            @keyframes bel-pulse-l {\n                0% {\n                    background-color: #e74c3c;\n                }\n\n                10% {\n                    background-color: #c0392b;\n                }\n\n                100% {\n                    background-color: #e74c3c;\n                }\n            }\n\n            @keyframes connectionAlert{\n                49%{\n                    background-color: #34495e;\n                }\n                50%{\n                    background-color: #e74c3c;\n                }\n            }\n\n            .bel-disconnectedAlert{\n                animation: connectionAlert 1s infinite;\n            }\n\n            .bel-status-log{\n                padding: 2px;\n                text-align: right;\n                margin: 4px 0;\n                font-size: 0.8em;\n                color: #8c8c8c;\n                width: 100%;\n            }\n\n            .bel-spinner {\n              width: 50px;\n              height: 20px;\n              text-align: center;\n              font-size: 10px;\n              padding-top: 8px;\n            }\n\n            .bel-spinner > div {\n              background-color: #2980b9;\n              height: 100%;\n              width: 6px;\n              display: inline-block;\n\n              -webkit-animation: sk-stretchdelay 1.2s infinite ease-in-out;\n              animation: sk-stretchdelay 1.2s infinite ease-in-out;\n            }\n\n            .bel-spinner .rect2 {\n              -webkit-animation-delay: -1.1s;\n              animation-delay: -1.1s;\n              background-color: #3498db;\n            }\n\n            .bel-spinner .rect3 {\n              -webkit-animation-delay: -1.0s;\n              animation-delay: -1.0s;\n              background-color: #2980b9;\n            }\n\n            .bel-spinner .rect4 {\n              -webkit-animation-delay: -0.9s;\n              animation-delay: -0.9s;\n              background-color: #3498db;\n            }\n\n            .bel-spinner .rect5 {\n              -webkit-animation-delay: -0.8s;\n              animation-delay: -0.8s;\n              background-color: #2980b9;\n            }\n\n            @-webkit-keyframes sk-stretchdelay {\n              0%, 40%, 100% { -webkit-transform: scaleY(0.4) }\n              20% { -webkit-transform: scaleY(1.0) }\n            }\n\n            @keyframes sk-stretchdelay {\n              0%, 40%, 100% {\n                transform: scaleY(0.4);\n                -webkit-transform: scaleY(0.4);\n              }  20% {\n                transform: scaleY(1.0);\n                -webkit-transform: scaleY(1.0);\n              }\n            }\n\n            hr.bel{\n                 border: 0; height: 0; border-top: 1px solid rgba(0, 0, 0, 0.1); border-bottom: 1px solid rgba(255, 255, 255, 0.3);\n            }\n\n            .bel-stat-spacer{\n                padding-right: 2px;\n                padding-left: 2px;\n            }\n\n            .bel-color-emerald{\n                color: #2ecc71;\n            }\n\n            .bel-color-belize{\n                color: #2980b9;\n            }\n\n            .bel-color-amethyst{\n                color: #9b59b6;\n            }\n\n            .bel-spacer-sm{\n                display: inline-block;\n                width: 15px;\n            }\n        ",this.addCSSRule(".clearfix:after",'\n            content: "";\n            display: table;\n            clear: both;\n        '),this.addCSSRule(".bel-alert","\n            background-color: #34495e;\n            color:#ecf0f1;\n            padding: 3px 8px;\n            border-radius:4px;\n            margin-right:4px;\n        "),this.addCSSRule(".bel-alert-danger","\n            background-color: #e74c3c;\n        "),this.addCSSRule("#bel-battle-history","\n            position: relative;\n            display: block;\n            height: 35px;\n            width: 35px;\n            float: left;\n            text-indent: -9999px;\n            margin-left: 4px;\n            margin-top: 5px;\n            border-radius: 4px;\n            overflow: hidden;\n            background-color: rgba(0, 0, 0, 0.45);\n        "),this.addCSSRule("#bel-battle-history:hover","\n            background-color: rgba(0, 0, 0, 0.8);\n        "),this.addCSSRule("#bel-battle-history::after",'\n            position: absolute;\n            top: 5px;\n            left: 5px;\n            width: 35px;\n            height: 35px;\n            background-image: url("https://dl.dropboxusercontent.com/u/86379644/sprites.png");\n            background-repeat: no-repeat;\n            background-position: 0 0;\n            content: " ";\n            opacity: 0.6;\n        '),this.addCSSRule("#bel-battle-history"),this.addCSSRule("#bel-minimonitor","\n            position: absolute;\n            right: 0;\n        "),this.addCSSRule(".bel-country-list","\n            max-height: 400px;\n            overflow-y: scroll;\n        "),this.addCSSRule(".bel-minimonitor","\n            position: absolute;\n            width: 118px;\n            background-color: rgba(52, 73, 94, 0.7);\n            right: 0;\n            color: #ecf0f1;\n            top: 10px;\n            padding: 2px;\n        "),this.addCSSRule(".bel-div",'\n            background-image: url("https://dl.dropboxusercontent.com/u/86379644/divs.png");\n            background-repeat: no-repeat;\n            height: 22px;\n            width: 19px;\n            display: inline-block;\n            vertical-align: middle;\n            margin-right: 5px;\n        '),
this.addCSSRule(".bel-div1","\n            background-position: 0 0;\n        "),this.addCSSRule(".bel-div2","\n            background-position: -38px 0;\n        "),this.addCSSRule(".bel-div3","\n            background-position: -19px 0;\n        "),this.addCSSRule(".bel-div4","\n            background-position: -76px 0;\n        "),this.addCSSRule(".bel-div11","\n            background-position: -57px 0;\n        "),this.addCSSRule(".bel-tabs","\n            margin: 5px 0;\n        "),this.addCSSRule(".bel-tabs button","\n            border-radius: 0px;\n        "),this.addCSSRule(".bel-tabs button:first-child","\n            border-radius: 4px 0 0 4px;\n        "),this.addCSSRule(".bel-tabs button:last-child","\n            border-radius: 0 4px 4px 0;\n        "),this.addCSSRule(".bel-country","\n            width: 28px;\n            height: 25px;\n            margin-bottom: -5px;\n            margin-left: 5px;\n            margin-right: 5px;\n            display: inline-block;\n        "),this.addCSSRule("#battle_eye_live",'\n            width: 100%;\n            position:relative;\n            float:left;\n            padding:10px;\n            box-sizing: border-box;\n            border-radius:0px 0px 20px 20px;\n            background-color: #ffffff;\n            color: #34495e;\n            font-size:14px;\n            font-family: "Lato",Helvetica,Arial,sans-serif;\n            text-align: center;\n            line-height: 1.7;\n        '),this.addCSSRule(".color-silver","color: #bdc3c7"),this.addCSSRule(".pull-left","float:left;"),this.addCSSRule(".pull-right","float:right;"),this.addCSSRule("#battle_eye_live *,#battle_eye_live *:after,#battle_eye_live *:before","-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;"),this.addCSSRule(".bel-value","\n            display: inline-block;\n            line-height: 1.2;\n            background-color: #ecf0f1;\n            padding: 2px 10px;\n            border-radius: 4px;\n            margin: 0 2px 2px 2px;\n        "),this.addCSSRule(".bel-value-hl-w","\n            color: #ffffff;\n            animation: bel-pulse-w 3s infinite;\n            background-color: #27ae60;\n        "),this.addCSSRule(".bel-value-hl-l","\n            color: #ffffff;\n            animation: bel-pulse-l 3s infinite;\n            background-color: #e74c3c;\n        "),this.addCSSRule(".text-center","text-align:center;"),this.addCSSRule(".text-left","text-align:left;"),this.addCSSRule(".text-right","text-align:right;"),this.addCSSRule(".bel-version","background-color: #34495e;color:#ecf0f1;padding: 3px 8px;border-radius:4px;margin-right:4px;"),this.addCSSRule(".bel-version-outdated","background-color: #e74c3c;"),this.addCSSRule(".bel-title","background-color: #ecf0f1;margin-bottom:2px;margin-top:5px;"),this.addCSSRule(".bel-titles","\n            font-weight: 700;\n        "),this.addCSSRule(".bel-text-tiny","font-size:10px;"),this.addCSSRule(".bel-highlight-title","\n            background-color: #34495e;\n            color: #fff;\n        "),this.addCSSRule(".bel-highlight","\n            color: #34495e;\n        "),this.addCSSRule(".bel-grid:after",'content: "";display: table;clear: both;'),this.addCSSRule("[class*='bel-col-']","float: left;min-height: 1px;"),this.addCSSRule(".bel-col-1-1","width: 100%;"),this.addCSSRule(".bel-col-1-2","width: 50%;"),this.addCSSRule(".bel-col-1-4","width: 25%;"),this.addCSSRule(".bel-col-1-3","width: 33.3333%;"),this.addCSSRule(".bel-col-1-8","width: 12.5%;"),this.addCSSRule(".list-unstyled","list-style: outside none none;padding-left: 0;"),this.addCSSRule(".list-inline li","display: inline-block;"),this.addCSSRule(".bel-closed","\n            z-index: 100;\n            position: absolute;\n            width: 100%;\n            opacity: 0.95;\n            top: 0;\n            left: 0;\n            background-color: #2c3e50;\n            text-shadow: 0 0 2px #363636;\n            color: #ffffff;\n            font-size: 20px;\n            padding: 14px;\n            text-align: center;\n            overflow: hidden;\n            height: 100%;\n            display: none;\n        "),this.addCSSRule(".bel-closed p","\n            font-size: 12px;\n        "),this.addCSSRule(".bel-settings","\n            z-index: 100;\n            position: absolute;\n            width: 100%;\n            opacity: 0.95;\n            top: 0;\n            left: 0;\n            background-color: #ffffff;\n            padding: 14px;\n            text-align: left;\n            overflow-y: scroll;\n            height: 100%;\n        "),this.addCSSRule(".bel-settings-group","\n            background-color: #34495e;\n            color: #ecf0f1;\n            padding-left: 10px;\n        "),this.addCSSRule(".bel-settings-container","\n            padding-left: 5px;\n        "),this.addCSSRule(".bel-settings-field","\n            margin-right: 3px;\n        "),this.addCSSRule(".bel-field-description","\n            font-size: 12px;\n            color: #95a5a6;\n        "),this.addCSSRule(".bel-checkbox","\n            padding: 5px 3px;\n            border-bottom: 1px solid #ecf0f1;\n        "),this.addCSSRule(".bel-hidden","\n            display: none;\n        "),this.addCSSRule(".bel-btn",'\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            background-image: none;\n            border: none !important;\n            cursor: pointer;\n            font-size: 13px;\n            font-weight: normal;\n            margin-bottom: 0;\n            text-align: center;\n            border-radius: 4px;\n            padding: 3px 8px;\n            font-family: "Lato",Helvetica,Arial,sans-serif;\n            transition: background-color 0.5s;\n        '),this.addCSSRule("a.bel-btn","\n            padding: 4px 8px;\n        "),this.addCSSRule(".bel-btn-default","\n            background-color: #1abc9c;\n            color: #ffffff;\n        "),this.addCSSRule(".bel-btn-default:hover","\n            background-color: #16a085;\n        "),this.addCSSRule(".bel-btn-grey","\n            background-color: #ecf0f1;\n            color: #34495e;\n        "),this.addCSSRule(".bel-btn-grey:hover","\n            background-color: #CED3D6;\n        "),this.addCSSRule(".bel-btn-danger","\n            background-color: #e74c3c;\n            color: #ffffff;\n        "),this.addCSSRule(".bel-btn-danger:hover","\n            background-color: #c0392b;\n        "),this.addCSSRule(".bel-btn-inverse","\n            background-color: #2c3e50;\n            color: #ffffff;\n        "),this.addCSSRule(".bel-btn-inverse:hover","\n            background-color: #34495e;\n        "),this.addCSSRule(".bel-btn-info","\n            background-color: #2980b9;\n            color: #ffffff;\n        "),this.addCSSRule(".bel-btn-info:hover","\n            background-color: #3498db;\n        "),this.addCSSRule(".bel-header-menu","margin-bottom: 10px;"),this.addCSSRule(".bel-header-menu li","padding: 0 5px;"),this.addCSSRule(".bel-teama","background-color: #27ae60;"),this.addCSSRule(".bel-teamb","background-color: #c0392b;"),this.addCSSRule(".bel-teama-color","color: #27ae60;"),this.addCSSRule(".bel-teamb-color","color: #c0392b;"),this.addCSSRule(".bel-progress","\n            height: 4px;\n            position: relative;\n            background: #ebedef none repeat scroll 0 0;\n            border-radius: 32px;\n            box-shadow: none;\n            margin-top: 2px;\n            overflow: hidden;\n        "),this.addCSSRule(".bel-progress-bar","\n            box-shadow: none;\n            line-height: 12px;\n            color: #fff;\n            float: left;\n            font-size: 12px;\n            height: 100%;\n            line-height: 20px;\n            text-align: center;\n            transition: width 0.6s ease 0s;\n            width: 0;\n        "),this.addCSSRule(".bel-progress-center-marker","\n            border-right: 3px solid #ffffff;\n            height: 10px;\n            left: 50%;\n            margin-left: -2px;\n            opacity: 0.6;\n            position: absolute;\n        "),this.addCSSRule(".bel-hr","\n            -moz-border-bottom-colors: none;\n            -moz-border-left-colors: none;\n            -moz-border-right-colors: none;\n            -moz-border-top-colors: none;\n            border-color: #eee -moz-use-text-color -moz-use-text-color;\n            border-image: none;\n            border-style: solid none none;\n            border-width: 1px 0 0;\n            margin-bottom: 20px;\n        ")}return r(e,[{key:"addCSSRule",value:function(e,t){this.sheet+=e+"{"+t+"}"}},{key:"load",value:function(){$j("head").append("<style>"+this.sheet+"</style>")}}]),e}();n["default"]=new i},{}],12:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(){a(this,e)}return r(e,[{key:"uid",value:function(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}]),e}();n["default"]=i},{}],13:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"render",value:function(){return null}}]),t}(React.Component);n["default"]=l},{}],14:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=e("./If"),c=a(s),u=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={log:null},e.listenerRegistered=!1,e}return o(t,e),l(t,[{key:"getTeamElementStyle",value:function(){return{fontWeight:700,fontSize:"1.3em"}}},{key:"getHeaderListStyle",value:function(){return{paddingBottom:"6px",borderBottom:"1px solid #ecf0f1"}}},{key:"getFlagStyle",value:function(e){return{backgroundImage:"url('/images/flags_png/L/"+e+".png')",backgroundPosition:"-4px -4px"}}},{key:"componentDidUpdate",value:function(){this.attachTooltip()}},{key:"componentDidMount",value:function(){this.attachTooltip()}},{key:"attachTooltip",value:function(){$j(".bel-disconnectedAlert").attr("original-title","Not connected to the battlefield!").tipsy()}},{key:"render",value:function(){var e=this;return!this.listenerRegistered&&window.BattleEye&&(window.BattleEye.events.on("log",function(t){e.state.log=t}),this.listenerRegistered=!0),React.createElement("div",{id:"battle_eye_header"},React.createElement("ul",{className:"list-unstyled list-inline text-left bel-header-menu",style:this.getHeaderListStyle()},React.createElement("li",{id:"bel-version"},React.createElement("span",{className:"bel-alert"},this.props.data.version)," ",React.createElement("a",{href:"http://bit.ly/BattleEye",target:"_blank"},"BATTLE EYE")),React.createElement("li",{id:"bel-loading"},React.createElement("div",{className:"bel-spinner"},React.createElement("div",{className:"rect1"}),React.createElement("div",{className:"rect2"}),React.createElement("div",{className:"rect3"}),React.createElement("div",{className:"rect4"}),React.createElement("div",{className:"rect5"}))),React.createElement(c["default"],{test:!window.viewData.connected},React.createElement("li",null,React.createElement("span",{className:"bel-alert bel-disconnectedAlert"},"Not connected!"))),React.createElement("li",{className:"pull-right"},React.createElement("ul",{className:"list-unstyled list-inline"},React.createElement("li",null,React.createElement("a",{className:"bel-btn bel-btn-inverse",target:"_blank",href:"http://bit.ly/BattleEye"},"Homepage")),React.createElement("li",null,React.createElement("a",{className:"bel-btn bel-btn-inverse",target:"_blank",href:"http://www.erepublik.com/en/citizen/profile/8075739"},"Contact/Donate")),React.createElement("li",null,React.createElement("button",{id:"battle-eye-settings",onClick:this.props.openModal,className:"bel-btn bel-btn-default"},"Settings"))))),React.createElement("div",{className:"bel-grid bel-status-log"},this.state.log),React.createElement(c["default"],{test:SERVER_DATA.isCivilWar},React.createElement("div",{className:"bel-grid"},React.createElement("div",{className:"bel-col-1-3 text-left bel-teama-color",style:this.getTeamElementStyle()},React.createElement("div",{style:this.getFlagStyle(this.props.data.revolutionCountry),className:"bel-country"})," ",this.props.data.teamAName),React.createElement("div",{className:"bel-col-1-3 text-center",style:this.getTeamElementStyle()},"CIVIL WAR"),React.createElement("div",{className:"bel-col-1-3 text-right bel-teamb-color",style:this.getTeamElementStyle()},React.createElement("div",{style:this.getFlagStyle(this.props.data.revolutionCountry),className:"bel-country"})," ",this.props.data.teamBName))),React.createElement(c["default"],{test:!SERVER_DATA.isCivilWar},React.createElement("div",{className:"bel-grid"},React.createElement("div",{className:"bel-col-1-2 text-left bel-teama-color",style:this.getTeamElementStyle()},React.createElement("div",{style:this.getFlagStyle(this.props.data.teamAName),className:"bel-country"})," ",this.props.data.teamAName),React.createElement("div",{className:"bel-col-1-2 text-right bel-teamb-color",style:this.getTeamElementStyle()},this.props.data.teamBName," ",React.createElement("div",{style:this.getFlagStyle(this.props.data.teamBName),className:"bel-country"})))))}}]),t}(React.Component);n["default"]=u},{"./If":15}],15:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"render",value:function(){return this.props.test?React.createElement("span",null,this.props.children):null}}]),t}(React.Component);n["default"]=l},{}],16:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"getPerc",value:function(e,t){var n=0;return e+t!==0&&(n=Math.round(1e3*e/(e+t))/10),n}},{key:"printDivisions",value:function(){var e=[],t=this.props.feedData.left,n=this.props.feedData.right,a=[];a=11==SERVER_DATA.division?[11]:[1,2,3,4];for(var r in a){var i=a[r],o=t.divisions["div"+i].damage*window.leftDetBonus,l=n.divisions["div"+i].damage*window.rightDetBonus;e.push(React.createElement("div",null,React.createElement("div",{className:"bel-div bel-div"+i})," ",this.getPerc(o,l),"% - ",this.getPerc(l,o),"%"))}return e}},{key:"render",value:function(){return settings.showMiniMonitor.value?React.createElement("div",{className:"bel-minimonitor"},this.printDivisions()):null}}]),t}(React.Component);n["default"]=l},{}],17:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=e("./settings/SettingsModal"),c=a(s),u=e("./tabs/TabSelector"),d=a(u),f=e("./tabs/Tabs"),h=a(f),p=e("./Header"),b=a(p),g=e("./Footer"),m=a(g),v=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={modalHidden:!0,tab:"div"},e}return o(t,e),l(t,[{key:"openModal",value:function(){this.setState({modalHidden:!1})}},{key:"closeModal",value:function(){this.setState({modalHidden:!0})}},{key:"changeTab",value:function(e){this.setState({tab:e})}},{key:"getTabButtons",value:function(){return[["div","Divisions"],["overall","Total"],["countries","Countries"],["summary","Battle stats (beta)"]]}},{key:"render",value:function(){return React.createElement("div",null,React.createElement(c["default"],{closeModal:this.closeModal.bind(this),hidden:this.state.modalHidden,settings:this.props.settings}),React.createElement(b["default"],{viewData:this.props.viewData,openModal:this.openModal.bind(this),data:this.props.headerData}),React.createElement(d["default"],{changeTab:this.changeTab.bind(this),tab:this.state.tab,buttons:this.getTabButtons()}),React.createElement(h["default"],{data:this.props.feedData,settings:this.props.settings,tab:this.state.tab}),React.createElement(m["default"],null))}}]),t}(React.Component);n["default"]=v},{"./Footer":13,"./Header":14,"./settings/SettingsModal":23,"./tabs/TabSelector":28,"./tabs/Tabs":29}],18:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.props={text:"",green:!1},e}return i(t,e),o(t,[{key:"render",value:function(){return React.createElement("span",{className:"bel-value "+(this.props.a>this.props.b&&this.props.highlight?1==this.props.green?"bel-value-hl-w":"bel-value-hl-l":"")},parseFloat(this.props.a).toLocaleString()," ",this.props.text)}}]),t}(React.Component);n["default"]=l},{}],19:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"render",value:function(){var e=0,t=0;this.props.a+this.props.b!==0&&(e=Math.round(1e4*this.props.a/(this.props.a+this.props.b))/100,t=Math.round(1e4*this.props.b/(this.props.a+this.props.b))/100);var n={width:e+"%"},a={width:t+"%"},r={};return settings.largerBars.value&&(r.height="8px"),React.createElement("div",{className:"bel-progress",style:r},React.createElement("div",{className:"bel-progress-center-marker"}),React.createElement("div",{className:"bel-progress-bar bel-teama",style:n}),React.createElement("div",{className:"bel-progress-bar bel-teamb",style:a}))}}]),t}(React.Component);n["default"]=l},{}],20:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.props={text:"",green:!1},e}return i(t,e),o(t,[{key:"render",value:function(){return React.createElement("span",{className:"bel-value"},this.props.a," ",this.props.text)}}]),t}(React.Component);n["default"]=l},{}],21:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"getInput",value:function(){var e=this.props.setting;return"boolean"==typeof e.value?React.createElement("div",null,React.createElement("input",{type:"checkbox",defaultChecked:e.value,className:"bel-settings-field",id:e.field.id,name:e.field.id}),React.createElement("label",{htmlFor:e.field.id},e.field.name)):React.createElement("div",null,React.createElement("label",{htmlFor:e.field.id},e.field.name),React.createElement("div",null,React.createElement("input",{type:"text",defaultValue:e.value,className:"bel-settings-field",id:e.field.id,name:e.field.id})))}},{key:"render",value:function(){var e=this.props.setting;return React.createElement("div",{className:"bel-checkbox"},this.getInput(),React.createElement("div",{className:"bel-field-description"},e.field.desc))}}]),t}(React.Component);n["default"]=l},{}],22:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=e("./SettingsField"),c=a(s),u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"renderSettings",value:function(){var e=this.props.settings,t=[];for(var n in e){var a=e[n];t.push(React.createElement(c["default"],{setting:a}))}return t}},{key:"render",value:function(){return React.createElement("div",{className:"bel-col-1-2"},React.createElement("h5",{className:"bel-settings-group"},this.props.name),React.createElement("div",{className:"bel-settings-container"},this.renderSettings()))}}]),t}(React.Component);n["default"]=u},{"./SettingsField":21}],23:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=e("./SettingsGroup"),c=a(s),u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"renderGroups",value:function(){var e,t=this.props.settings,n=[],a={};for(e in t){var r=t[e];void 0===a[r.field.group]&&(a[r.field.group]=[]),a[r.field.group].push(r)}for(e in a){var i=a[e];n.push(React.createElement(c["default"],{name:e,settings:i}))}return n}},{key:"resetSettings",value:function(){window.BattleEye.resetSettings(),$j("#bel-reset-settings").notify("Settings reset","info")}},{key:"disconnect",value:function(){window.BattleEye.forceDisconnect()}},{key:"render",value:function(){return React.createElement("div",{id:"bel-settings-modal",className:"bel-settings "+(this.props.hidden?"bel-hidden":"")},React.createElement("div",{className:"clearfix"},React.createElement("ul",{className:"list-unstyled list-inline pull-right bel-header-menu"},React.createElement("li",null,React.createElement("a",{id:"bel-reset-settings",onClick:this.resetSettings,href:"javascript:void(0);",className:"bel-btn bel-btn-inverse bel-btn-alert-success"},"Reset to defaults")),React.createElement("li",null,React.createElement("a",{href:"https://dl.dropboxusercontent.com/u/86379644/battle-eye-live.user.js",className:"bel-btn bel-btn-inverse"},"Update")),React.createElement("li",null,React.createElement("button",{onClick:this.disconnect,className:"bel-btn bel-btn-danger"},"Disconnect")),React.createElement("li",null,React.createElement("button",{id:"bel-close-modal",onClick:this.props.closeModal,className:"bel-btn bel-btn-danger"},"Close")))),React.createElement("div",{className:"bel-grid"},this.renderGroups()))}}]),t}(React.Component);n["default"]=u},{"./SettingsGroup":22}],24:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),
Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=e("../If"),c=a(s),u=e("./TabSelector"),d=a(u),f=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={tab:"overall"},e}return o(t,e),l(t,[{key:"getFlagStyle",value:function(e){return{backgroundImage:"url('/images/flags_png/L/"+e+".png')",backgroundPosition:"-4px -4px"}}},{key:"getStats",value:function(e){var t=[],n=[];n="overall"==this.state.tab?this.props.data[e].countries:this.props.data[e].divisions[this.state.tab].countries;for(var a in n){var r=n[a];t.push(React.createElement("div",null,React.createElement(c["default"],{test:"right"==e},React.createElement("div",{style:this.getFlagStyle(a),className:"bel-country"})),React.createElement(c["default"],{test:"right"!=e},React.createElement("span",{className:"bel-stat-spacer"},React.createElement("span",{className:"tooltip-kills bel-value"},r.kills.toLocaleString())),React.createElement("span",{className:"bel-stat-spacer"},React.createElement("span",{className:"tooltip-damage bel-value"},r.damage.toLocaleString())),React.createElement("span",{className:"bel-spacer-sm"})),React.createElement("b",{className:"bel-color-belize"},a),React.createElement(c["default"],{test:"left"==e},React.createElement("div",{style:this.getFlagStyle(a),className:"bel-country"})),React.createElement(c["default"],{test:"left"!=e},React.createElement("span",{className:"bel-spacer-sm"}),React.createElement("span",{className:"bel-stat-spacer"},React.createElement("span",{className:"tooltip-damage bel-value"},r.damage.toLocaleString())),React.createElement("span",{className:"bel-stat-spacer"},React.createElement("span",{className:"tooltip-kills bel-value"},r.kills.toLocaleString()))),React.createElement("hr",{className:"bel"})))}return t}},{key:"componentDidUpdate",value:function(){this.attachTooltip()}},{key:"componentDidMount",value:function(){this.attachTooltip()}},{key:"attachTooltip",value:function(){$j(".tooltip-kills").attr("original-title","Kills").tipsy(),$j(".tooltip-damage").attr("original-title","Damage").tipsy()}},{key:"getTabButtons",value:function(){return[["overall","Round Total"],["div1","DIV1"],["div2","DIV2"],["div3","DIV3"],["div4","DIV4"]]}},{key:"changeTab",value:function(e){this.setState({tab:e})}},{key:"render",value:function(){return"countries"!=this.props.tab&&"div1"!=this.props.tab&&"div2"!=this.props.tab&&"div3"!=this.props.tab&&"div4"!=this.props.tab?null:React.createElement("div",null,React.createElement(d["default"],{changeTab:this.changeTab.bind(this),tab:this.state.tab,buttons:this.getTabButtons()}),React.createElement("div",{className:"bel-country-list"},React.createElement("div",{className:"bel-col-1-2 text-right"},this.getStats("left")),React.createElement("div",{className:"bel-col-1-2 text-left"},this.getStats("right"))))}}]),t}(React.Component);n["default"]=f},{"../If":15,"./TabSelector":28}],25:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=e("../elements/FloatValue"),c=a(s),u=e("../elements/TextValue"),d=a(u),f=e("../elements/ProgressBar"),h=a(f),p=e("../If"),b=a(p),g=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"getPerc",value:function(e,t){var n=0;return e+t!=0&&(n=Math.round(1e3*e/(e+t))/10),n}},{key:"render",value:function(){if("div"!=this.props.tab)return null;var e=this.props.data.left,t=this.props.data.right,n=this.props.settings,a=!1;n.highlightDivision.value&&SERVER_DATA.division==this.props.div[0]&&(a=!0);var r=e.damage*window.leftDetBonus,i=t.damage*window.rightDetBonus,o=Math.round(parseFloat(e.damage)/parseFloat(this.getPerc(r,i))),l=Math.round(parseFloat(t.damage)/parseFloat(this.getPerc(i,r)));return window.leftDetBonus==window.rightDetBonus,React.createElement("div",null,React.createElement("div",{className:"bel-col-1-1 text-center bel-title "+(a?"bel-highlight-title":"")},this.props.div[1]),React.createElement("div",{className:"belFeedValue"},React.createElement("ul",{className:"list-unstyled"},React.createElement("li",{className:"bel-col-1-3 text-right"},React.createElement(d["default"],{a:"1% = "+o.toLocaleString()+" dmg"}),React.createElement(c["default"],{green:!0,a:this.getPerc(r,i),b:this.getPerc(i,r),highlight:n.highlightValue.value,text:"%"})),React.createElement("li",{className:"bel-col-1-3 text-center"},"Domination"),React.createElement("li",{className:"bel-col-1-3 text-left"},React.createElement(c["default"],{b:this.getPerc(r,i),a:this.getPerc(i,r),highlight:n.highlightValue.value,text:"%"}),React.createElement(d["default"],{a:"1% = "+l.toLocaleString()+" dmg"})))),React.createElement("div",{className:"belFeedValue"},React.createElement("ul",{className:"list-unstyled"},React.createElement("li",{className:"bel-col-1-3 text-right"},React.createElement(b["default"],{test:n.showKills.value},React.createElement(c["default"],{green:!0,a:e.hits,b:t.hits,highlight:n.highlightValue.value,text:"kills"})),React.createElement(b["default"],{test:n.showDamagePerc.value},React.createElement(c["default"],{green:!0,a:this.getPerc(e.damage,t.damage),b:this.getPerc(t.damage,e.damage),highlight:n.highlightValue.value,text:"%"})),React.createElement(c["default"],{green:!0,a:e.damage,b:t.damage,highlight:n.highlightValue.value})),React.createElement("li",{className:"bel-col-1-3 text-center"},"Total Damage"),React.createElement("li",{className:"bel-col-1-3 text-left"},React.createElement(c["default"],{a:t.damage,b:e.damage,highlight:n.highlightValue.value}),React.createElement(b["default"],{test:n.showDamagePerc.value},React.createElement(c["default"],{b:this.getPerc(e.damage,t.damage),a:this.getPerc(t.damage,e.damage),highlight:n.highlightValue.value,text:"%"})),React.createElement(b["default"],{test:n.showKills.value},React.createElement(c["default"],{a:t.hits,b:e.hits,text:"kills",highlight:n.highlightValue.value}))))),React.createElement("div",{className:"belFeedValue"},React.createElement(b["default"],{test:n.showAverageDamage.value},React.createElement("ul",{className:"list-unstyled"},React.createElement("li",{className:"bel-col-1-3 text-right"},React.createElement(c["default"],{green:!0,a:e.avgHit,b:t.avgHit,highlight:n.highlightValue.value})),React.createElement("li",{className:"bel-col-1-3 text-center"},"Average damage"),React.createElement("li",{className:"bel-col-1-3 text-left"},React.createElement(c["default"],{a:t.avgHit,b:e.avgHit,highlight:n.highlightValue.value}))))),React.createElement("div",{className:"belFeedValue"},React.createElement("ul",{className:"list-unstyled"},React.createElement("li",{className:"bel-col-1-3 text-right"},React.createElement(c["default"],{green:!0,a:e.dps,b:t.dps,highlight:n.highlightValue.value})),React.createElement("li",{className:"bel-col-1-3 text-center"},"DPS"),React.createElement("li",{className:"bel-col-1-3 text-left"},React.createElement(c["default"],{a:t.dps,b:e.dps,highlight:n.highlightValue.value})))),React.createElement("div",{className:"bel-col-1-1"},React.createElement(b["default"],{test:n.showDominationBar.value},React.createElement("div",{className:"text-left bel-text-tiny"},"DOMINATION ",React.createElement("span",{className:"color-silver"},"(",React.createElement("strong",null,Math.abs(r-i).toLocaleString()," ")," difference)")),React.createElement(h["default"],{a:r,b:i})),React.createElement(b["default"],{test:n.showDamageBar.value},React.createElement("div",{className:"text-left bel-text-tiny"},"DAMAGE ",React.createElement("span",{className:"color-silver"},"(",React.createElement("strong",null,Math.abs(e.damage-t.damage).toLocaleString()," ")," difference)")," ",React.createElement("span",{className:"color-silver"},"(1% ~ ",React.createElement("strong",null),")")),React.createElement(h["default"],{a:e.damage,b:t.damage})),React.createElement(b["default"],{test:n.showDpsBar.value},React.createElement("div",{className:"text-left bel-text-tiny"},"DPS ",React.createElement("span",{className:"color-silver"},"(",React.createElement("strong",null,Math.abs(e.dps-t.dps).toLocaleString())," difference)")),React.createElement(h["default"],{a:e.dps,b:t.dps}))))}}]),t}(React.Component);n["default"]=g},{"../If":15,"../elements/FloatValue":18,"../elements/ProgressBar":19,"../elements/TextValue":20}],26:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=e("../elements/FloatValue"),c=a(s),u=e("../If"),d=a(u),f=e("../elements/ProgressBar"),h=a(f),p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"getPerc",value:function(e,t){var n=0;return e+t!=0&&(n=Math.round(100*e/(e+t))),n}},{key:"render",value:function(){var e=this.props.data.left,t=this.props.data.right,n=this.props.settings;return"overall"!=this.props.tab?null:React.createElement("div",null,React.createElement("div",{className:"bel-col-1-1 text-center bel-title bel-highlight-title"},"Overall stats"),React.createElement("div",{className:"bel-col-1-3 text-right"},React.createElement("ul",{className:"list-unstyled"},React.createElement("li",null,React.createElement(d["default"],{test:n.showKills.value},React.createElement(c["default"],{green:!0,a:e.hits,b:t.hits,highlight:n.highlightValue.value,text:"kills"})),React.createElement(d["default"],{test:n.showDamagePerc.value},React.createElement(c["default"],{green:!0,a:this.getPerc(e.damage,t.damage),b:this.getPerc(t.damage,e.damage),highlight:n.highlightValue.value,text:"%"})),React.createElement(c["default"],{green:!0,a:e.damage,b:t.damage,highlight:n.highlightValue.value})),React.createElement(d["default"],{test:n.showAverageDamage.value},React.createElement("li",null,React.createElement(c["default"],{green:!0,a:e.avgHit,b:t.avgHit,highlight:n.highlightValue.value}))),React.createElement("li",null,React.createElement(c["default"],{green:!0,a:e.dps,b:t.dps,highlight:n.highlightValue.value})))),React.createElement("div",{className:"bel-col-1-3 text-center"},React.createElement("ul",{className:"list-unstyled bel-titles"},React.createElement("li",null,"Total Damage"),React.createElement(d["default"],{test:n.showAverageDamage.value},React.createElement("li",null,"Average Damage")),React.createElement("li",null,"DPS"))),React.createElement("div",{className:"bel-col-1-3 text-left"},React.createElement("ul",{className:"list-unstyled"},React.createElement("li",null,React.createElement(c["default"],{a:t.damage,b:e.damage,highlight:n.highlightValue.value}),React.createElement(d["default"],{test:n.showDamagePerc.value},React.createElement(c["default"],{b:this.getPerc(e.damage,t.damage),a:this.getPerc(t.damage,e.damage),highlight:n.highlightValue.value,text:"%"})),React.createElement(d["default"],{test:n.showKills.value},React.createElement(c["default"],{a:t.hits,b:e.hits,text:"kills",highlight:n.highlightValue.value}))),React.createElement(d["default"],{test:n.showAverageDamage.value},React.createElement("li",null,React.createElement(c["default"],{a:t.avgHit,b:e.avgHit,highlight:n.highlightValue.value}))),React.createElement("li",null,React.createElement(c["default"],{a:t.dps,b:e.dps,highlight:n.highlightValue.value})))),React.createElement("div",{className:"bel-col-1-1"},React.createElement(d["default"],{test:n.showDamageBar.value},React.createElement("div",{className:"text-left bel-text-tiny"},"DAMAGE ",React.createElement("span",{className:"color-silver"},"(",React.createElement("strong",null,Math.abs(e.damage-t.damage).toLocaleString()," ")," difference)")),React.createElement(h["default"],{a:e.damage,b:t.damage})),React.createElement(d["default"],{test:n.showDpsBar.value},React.createElement(h["default"],{a:e.dps,b:t.dps}),React.createElement("div",{className:"text-left bel-text-tiny"},"DPS ",React.createElement("span",{className:"color-silver"},"(",React.createElement("strong",null,Math.abs(e.dps-t.dps).toLocaleString())," difference)")))))}}]),t}(React.Component);n["default"]=p},{"../If":15,"../elements/FloatValue":18,"../elements/ProgressBar":19}],27:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(s){r=!0,i=s}finally{try{!a&&l["return"]&&l["return"]()}finally{if(r)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=e("../If"),u=a(c),d=e("./TabSelector"),f=a(d),h=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={step:0,progress:{current:0,max:SERVER_DATA.zoneId+1,status:"Fetching data"},tab:"overall",division:"overall"},e.data={left:null,right:null,data:null},e}return o(t,e),s(t,[{key:"renderIndex",value:function(){return React.createElement("div",null,React.createElement("button",{onClick:this.generateSummary.bind(this),className:"bel-btn bel-btn-info"},"Generate summary"))}},{key:"renderProgress",value:function(){var e={width:Math.round(this.state.progress.current/this.state.progress.max*100)+"%"};return React.createElement("div",null,React.createElement("h4",null,this.state.progress.status),React.createElement("div",{className:"bel-progress"},React.createElement("div",{className:"bel-progress-bar bel-teama",style:e})))}},{key:"generateSummary",value:function(){var e=this,t=this;t.state.step=1,window.BattleEye.generateSummary(),window.BattleEye.events.on("summary.update",function(e){t.state.progress.status="Fetched round "+e,t.state.progress.current=e}),window.BattleEye.events.on("summary.finished",function(n){var a=l(n,3),r=a[0],i=a[1],o=a[2];t.state.progress.status="Data fetching done. Organizing data",t.data.left=r,t.data.right=i,t.data.rounds=o,e.state.step=2})}},{key:"getStats",value:function(e){var t=[],n=[];if(this.state.tab.startsWith("round")){var a=parseInt(this.state.tab.replace(/^\D+/g,""));n=this.state.division.startsWith("div")?this.data.rounds[a][e].divisions[this.state.division].countries:this.data.rounds[a][e].countries}else n=this.state.division.startsWith("div")?this.data[e].divisions[this.state.division].countries:this.data[e].countries;for(var r in n){var i=n[r];t.push(React.createElement("div",null,React.createElement(u["default"],{test:"right"==e},React.createElement("div",{style:this.getFlagStyle(r),className:"bel-country"})),React.createElement(u["default"],{test:"right"!=e},React.createElement("span",{className:"bel-stat-spacer"},React.createElement("span",{className:"tooltip-kills bel-value"},i.kills.toLocaleString())),React.createElement("span",{className:"bel-stat-spacer"},React.createElement("span",{className:"tooltip-damage bel-value"},i.damage.toLocaleString())),React.createElement("span",{className:"bel-spacer-sm"})),React.createElement("b",{className:"bel-color-belize"},r),React.createElement(u["default"],{test:"left"==e},React.createElement("div",{style:this.getFlagStyle(r),className:"bel-country"})),React.createElement(u["default"],{test:"left"!=e},React.createElement("span",{className:"bel-spacer-sm"}),React.createElement("span",{className:"bel-stat-spacer"},React.createElement("span",{className:"tooltip-damage bel-value"},i.damage.toLocaleString())),React.createElement("span",{className:"bel-stat-spacer"},React.createElement("span",{className:"tooltip-kills bel-value"},i.kills.toLocaleString()))),React.createElement("hr",{className:"bel"})))}return t}},{key:"getRoundButtons",value:function(){for(var e=[["overall","Battle Total"]],t=1;t<SERVER_DATA.zoneId;t++)e.push(["round"+t,"Round "+t]);return e}},{key:"getDivisionButtons",value:function(){var e=[["overall","Battle Total"],["div1","DIV1"],["div2","DIV2"],["div3","DIV3"],["div4","DIV4"]];return e}},{key:"changeRound",value:function(e){this.setState({tab:e})}},{key:"changeDivision",value:function(e){this.setState({division:e})}},{key:"renderSummary",value:function(){return React.createElement("div",null,React.createElement(f["default"],{changeTab:this.changeRound.bind(this),tab:this.state.tab,buttons:this.getRoundButtons()}),React.createElement(f["default"],{changeTab:this.changeDivision.bind(this),tab:this.state.division,buttons:this.getDivisionButtons()}),React.createElement("div",{className:"bel-country-list"},React.createElement("div",{className:"bel-col-1-2 text-right"},this.getStats("left")),React.createElement("div",{className:"bel-col-1-2 text-left"},this.getStats("right"))))}},{key:"getFlagStyle",value:function(e){return{backgroundImage:"url('/images/flags_png/L/"+e+".png')",backgroundPosition:"-4px -4px"}}},{key:"render",value:function(){if("summary"!=this.props.tab)return null;switch(this.state.step){case 0:return this.renderIndex();case 1:return this.renderProgress();case 2:return this.renderSummary();default:return null}}}]),t}(React.Component);n["default"]=h},{"../If":15,"./TabSelector":28}],28:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"getButtons",value:function(){var e=[];for(var t in this.props.buttons){var n=this.props.buttons[t];e.push(React.createElement("button",{"data-tab":n[0],onClick:this.props.changeTab.bind(this,n[0]),className:this.getStyle(n[0])},n[1]))}return e}},{key:"getStyle",value:function(e){return this.props.tab==e?"bel-btn bel-btn-default":"bel-btn bel-btn-grey"}},{key:"render",value:function(){return React.createElement("div",{className:"bel-tabs"},this.getButtons())}}]),t}(React.Component);n["default"]=l},{}],29:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=e("./DivisionTab"),c=a(s),u=e("./CountriesTab"),d=a(u),f=e("./OverallTab"),h=a(f),p=e("./SummaryTab"),b=a(p),g=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"renderDivisions",value:function(){if(!this.props.data)return null;var e=[],t=[];t=11==SERVER_DATA.division?[[11,"Air Division"]]:[[1,"Division 1"],[2,"Division 2"],[3,"Division 3"],[4,"Division 4"]];for(var n in t){var a=t[n];if((this.props.settings.showOtherDivs.value||a[0]==SERVER_DATA.division)&&(this.props.settings.showDiv1.value||1!=a[0])&&(this.props.settings.showDiv2.value||2!=a[0])&&(this.props.settings.showDiv3.value||3!=a[0])&&(this.props.settings.showDiv4.value||4!=a[0])){var r={};r.left=this.props.data.left.divisions["div"+a[0]],r.right=this.props.data.right.divisions["div"+a[0]],e.push(React.createElement(c["default"],{tab:this.props.tab,data:r,div:a,settings:this.props.settings}))}}return e}},{key:"renderOverall",value:function(){var e={};return e.left=this.props.data.left,e.right=this.props.data.right,React.createElement(h["default"],{tab:this.props.tab,data:e,settings:this.props.settings})}},{key:"renderCountries",value:function(){var e={};return e.left=this.props.data.left,e.right=this.props.data.right,React.createElement(d["default"],{tab:this.props.tab,data:e,settings:this.props.settings})}},{key:"renderSummary",value:function(){return React.createElement(b["default"],{tab:this.props.tab})}},{key:"getContent",value:function(){return React.createElement("div",null,this.renderDivisions(),this.renderOverall(),this.renderCountries(),this.renderSummary())}},{key:"render",value:function(){return React.createElement("div",{className:"bel-grid"},this.getContent())}}]),t}(React.Component);n["default"]=g},{"./CountriesTab":24,"./DivisionTab":25,"./OverallTab":26,"./SummaryTab":27}],30:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=e("./Module"),c=a(s),u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"AutoShooter","Automatically shoots, when the FIGHT button is held"))}return o(t,e),l(t,[{key:"defineSettings",value:function(){return[["autoShooterEnabled",!1,"Enable AutoShooter","Automatically shoots, when the FIGHT button is held"],["autoShooterStart",!1,"Start AutoShooter immediately after the button is pressed.","Otherwise, AutoShooter will start after the shot delay"],["autoShooterEnter",!0,"Shoot while holding ENTER"],["autoShooterSpace",!0,"Shoot while holding SPACE"],["autoShooterDelay",1500,"Delay between shots (in ms)"]]}},{key:"run",value:function(){function e(e){return(""+e).replace(/\B(?=(\d{3})+(?!\d))/g,",")}var t,n;document.getElementById("fight_btn").addEventListener("mousedown",function(){a()}),document.onkeydown=function(e){n&&n.keyCode==e.keyCode||(settings.autoShooterEnter.value&&13==e.keyCode||settings.autoShooterSpace.value&&32==e.keyCode)&&settings.autoShooterEnabled.value&&(n=e,a(),$j("#fight_btn").notify("AutoShooter started",{position:"top center",className:"info"}))},document.addEventListener("mouseup",function(){clearInterval(t)}),document.onkeyup=function(e){(settings.autoShooterEnter.value&&13==e.keyCode||settings.autoShooterSpace.value&&32==e.keyCode)&&(n=null,clearInterval(t))};var a=function(){if(settings.autoShooterEnabled.value){var n=function(){$j.post("/"+erepublik.settings.culture+"/military/fight-shoo"+(SERVER_DATA.onAirforceBattlefield?"oo":"o")+"t/"+SERVER_DATA.battleId,{sideId:SERVER_DATA.countryId,battleId:SERVER_DATA.battleId,_token:SERVER_DATA.csrfToken},function(n){if(settings.enableLogging.value&&console.log("[BATTLEEYE] Request sent. Received: "+n.message),"ENEMY_KILLED"==n.message){if(window.totalPrestigePoints+=n.hits,globalNS.updateSideBar(n.details),$j("#rank_min").text(e(n.rank.points)+" Rank Points"),$j("#rank_status_gained").css("width",n.rank.percentage+"%"),$j("#prestige_value").text(e(window.totalPrestigePoints)),$j("#side_bar_currency_account_value").text(e(n.details.currency)),$j(".left_player .energy_progress").css("width",n.details.current_energy_ratio+"%"),$j(".right_player .energy_progress").css("width",n.enemy.energyRatio+"%"),$j(".weapon_no").text(n.user.weaponQuantity),$j("#eRS_options").length<=0){var a=parseInt($j("#total_damage strong").text().replace(/,/g,""));$j("#total_damage strong").text(e(a+n.user.givenDamage))}}else"ENEMY_ATTACKED"==n.message||"LOW_HEALTH"==n.message?($j("#fight_btn").notify("Low health. AutoShooter stopped",{position:"top center",className:"info"}),t&&clearInterval(t)):"ZONE_INACTIVE"==n.message?($j("#fight_btn").notify("Zone is inactive. AutoShooter stopped",{position:"top center",className:"info"}),t&&clearInterval(t)):"SHOOT_LOCKOUT"==n.message?($j("#fight_btn").notify("Shoot lockout (Shooting too fast?). AutoShooter stopped.",{position:"top center",className:"info"}),t&&clearInterval(t)):($j("#fight_btn").notify('AutoShooter stopped. Received: "'+n.message+'"',{position:"top center",className:"warn"}),t&&clearInterval(t))})};settings.autoShooterStart.value&&n(),t=setInterval(n,Number(settings.autoShooterDelay.value)),settings.enableLogging.value&&console.log("[BATTLEEYE] AutoShooter started")}}}}]),t}(c["default"]);n["default"]=u},{"./Module":31}],31:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];a(this,e);var i=this;i.name=t,i.desc=n,i.autoload=r}return r(e,[{key:"defineSettings",value:function(){return[]}},{key:"run",value:function(e){return null}}]),e}();n["default"]=i},{}],32:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=e("./Module"),l=a(o),s=function(){function e(){r(this,e),this.modules={}}return i(e,[{key:"load",value:function(e){if(e instanceof l["default"]){this.modules[e.name]=e;var t=e.defineSettings();for(var n in t){var a=t[n];window.storage.define(a[0],a[1],e.name,a[2],a[3])}}}},{key:"get",value:function(e){return this.modules[e]}},{key:"run",value:function(){for(var e in this.modules)try{this.modules[e].autoload&&this.modules[e].run()}catch(t){console.error("Failed to run module "+e+"!: "+t)}}}]),e}();n["default"]=s},{"./Module":31}],33:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=e("./Module"),c=a(s),u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Other","Other miscellaneous enhancements"))}return o(t,e),l(t,[{key:"defineSettings",value:function(){return[["otherFixCometchat",!0,"Cometchat fix","Removes the fading, clickblocking line from the bottom of the screen. (Requires a page refresh)"]]}},{key:"run",value:function(){if(settings.otherFixCometchat.value)var e=function(){var e=document.getElementById("cometchat_base");if(null!==e){var n="width:auto;position:aboslute;right:0;background:none;";e.setAttribute("style",n),clearInterval(t)}},t=setInterval(e,500)}}]),t}(c["default"]);n["default"]=u},{"./Module":31}],34:[function(e,t,n){"use strict";window.BattleEye=e("./BattleEye"),setTimeout(function(){window.BattleEye.overridePomelo()},2e3)},{"./BattleEye":1}]},{},[34]);